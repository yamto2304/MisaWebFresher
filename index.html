<!DOCTYPE html>
<html>
    <head>
        <title>Demo</title>
        <script type="text/javascript">
            var customers = [];

            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function(){
                
                if(this.readyState == 4 && this.status == 200){
                    customers = JSON.parse(this.response);
                    loadTable(customers);
                }
                
            }
            xhttp.open("GET", "http://api.manhnv.net/api/customers", true);
            xhttp.send();

            function loadTable(data){
                var title = document.getElementById('title');
                title.innerHTML = "xin chao cac ban";
                var table = document.getElementById('tbl-customer');

                for(let i = 0; i < data.length; i++){
                    let row = `<tr>
                        <td>${data[i].CustomerCode}</td>
                        <td>${data[i].FullName}</td>
                        <td>${data[i].Gender}</td>
                        <td>${data[i].DateOfBirth}</td>
                        <td>${data[i].Email}</td>
                        <td>${data[i].PhoneNumber}</td>
                        <td>${data[i].Address}</td>
                        </tr>`;
                    table.innerHTML += row;
                }
            }

            function openDialog(){
                var dialog = document.getElementById('dialog-form');
                // dialog
                debugger
            }

            function save(){
                // var form = document.my

                var xhttp = new XMLHttpRequest();
                    params = {
                        CustomerId: '',
                        CustomerCode: '',
                        FullName: '',
                        Gender: '',
                        Address: '',
                        DateOfBirth: '',
                        Email: '',
                        PhoneNumber: ''
                    }

                xhttp.onreadystatechange = function(){
                
                if(this.readyState == 4 && this.status == 200){
                    debugger
                }
                
            }
            xhttp.open("GET", "http://api.manhnv.net/api/customers", true);
            xhttp.send(params);
            }
        </script>
    </head>
    <body>
        <h1 id="title"></h1>
        <table id="tbl-customer" style="width: 100%">
            <tr>
                <th>Ma khach hang</th>
                <th>Ten khach hang</th>
                <th>Gioi tinh</th>
                <th>Ngay sinh</th>
                <th>Email</th>
                <th>SDT</th>
                <th>Dia chi</th>
            </tr>
        </table>

        <form id="form-data" name="myForm">
            <div>
                <label>Ma khach hang</label>
                <input type="text" customer-code" label="Ma khach hang">
            </div>
            <div>
                <label>Ten khach hang</label>
                <input type="text" name="customer-name">
            </div>
            <div>
                <!-- <label>Gioi tinh</label> -->
                <span>Gioi tinh</span>
                <input name="customer-gender" type="checkbox"></checkbox>
            </div>
            <div>
                <label>Ngay sinh</label>
                <input type="date" name="customer-dateOfBirth">
            </div>
            <div>
                <label>Email:</label>
                <input type="email" name="customer-email">
            </div>
            <div>
                <label>SDT:</label>
                <input type="number" name="customer-phoneNumber">
            </div>
            <div>
                <label>Dia chi</label>
                <input type="text" name="customer-adress">
            </div>
            
            <button type="submit" onclick="save()" style="margin: 10px 0px;">Add new customer</button>
        </form>
    </body>
</html>